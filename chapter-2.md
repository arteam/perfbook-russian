# Глава 2
## Введение

Параллельное программирование заслужило репутацию как одна из самых сложных областей, с которыми программист может столкнуться. Научные работы и книги предупреждают об опасностях деддлока, лайвлока, гонки условий, неопределенности, ограничений закона Амдала по масштабируемости и чрезмерных задержках в реальном времени. И эти опасности вполне реальны; мы, авторы, собрали неисчислимые года опыта работы с ними: все эмоциональные шрамы, седые волосы и их потерю, которая появляется после встречи с такими опытами.

Однако, новые технологии, которые сложны для использовании в при появлении, неизбежно становятся проще со временем. Например, в свое время редкое умение водить машину сейчас является обычной вещью во многих странах. Такое большое изменение произошло по двум базовым причинам: (1) машины стали дешевле и более легко доступны, таким образом большее количество людей получило возможность научится водить и (2) машины стали более просты в эксплуатации благодаря автоматическим трансмиссиям, автоматическим дросселям, автоматическим стартерам, значительно увеличинной надежности и набору других технологических улучшений.

Это же является правдой и для других технологий, включая компьютеры. Теперь не нужно работать с перфокартами для того, чтобы программировать.
Умные таблицы позволяют большинству непрограммистов получать такие результаты от их компьютеров, получение которых требовало бы команду специалистов несколько десятков лет назад. Возможно, наиболее яркий пример это веб-серфинг и создание контента. С начала 2000-x с помощью разных распространенных социально-сетевых инструментов это могут делать люди без специального обучения и тренировки. Не так давно как в 1968 году, такое создание контента было далеким исследовательским проектом [Eng68], описываемым в свое время как "приземление летающей тарелки на лужайку перед Белым домом".

Следовательно, если вы желаете спорить, что параллельное программирование останется таким же сложным как оно воспринимается многими сейчас, это вы, кто должен приводить доказательства, при этом не забывая о многих веках контр-примеров в различных областях человеческих достижений. 

## Исторические сложности параллельного программирования

Как следует из ее названия, это книга преследует другой подход. Вместо того, чтобы жаловаться на сложности параллельного программирования, она вместе этого изучает причины, почему же параллельного программирование сложно и помогает читателю преодолеть эти сложности. Как мы дальше увидим, эти сложности разделяются на несколько категорий, включая:

1. Исторически высокую цену и относительную редкость параллельных систем;
2. Отсутствие опыта работы с параллельными системами у типичных исследователей и практиков;
3. Малое количество публично доступного параллельного кода;
4. Отсуствие широко понимаемой инженерной дисциплины параллельного программирования;
5. Высокие накладные расходы на коммуникацию по сравнению с обработкой данных, даже в сильно связанных вычислительных системах с разделяемой памятью.

Многие из этих исторических сложностей уже на пути к преодолению. 
1. За последние несколько десятков лет благодаря закону Мура цена параллельных систем упала с порядка цены на дом до порядка цены на велосипед. Научные работы, говорящие о преимуществах мультиядерных процессоров были опубликованы в начале 1996 года [OHN+96]. IBM одновременно внедрила многопоточность в передовую линейку процессоров POWER в 2000 и мультиядерность в 2001. Intel внедрила гиперпоточность в их двухядерные процессоры в 2005. Sun последовала за ними с мультиядерным/мультипоточным процессором Niagara в конце 2005. На самом деле, в 2008 году уже было сложно найти однопроцесоррную настольную систему, а одноядерные процессоры остались только в нетбуках и встроенных устройствах. К 2012 году даже смартфоны начали выпускаться с несколькими процессорами.

2. Приход дешевых и широкодоступных мультиядерных систем, значит, что в свое время редкий опыт параллельного программирования теперь доступен практически каждому исследователю и практику. На самом деле, параллельные системы сейчас по карману даже школьнику и любителю. Мы, следовательно, можем ожидать большое увеличение уровня открытий и инноваций в областях, окружающих параллельные системы. Эта увеличивающаяся знакомость через некоторе время сделает однажды ужасно дорогую область параллельного программирования более дружелюбной и обычной. 

3. В 20 веке, большинство большие системы с используем высоко распаралезированного программного обеспечения были закрытыми и тщательно охраняемыми проприетарными секретами. На контрасте с этим, 21 век увидел многочисленные проекты параллельного программного обеспечния с открытым кодом (следовательно  публично доступых), включая ядро Linux [Tor03c], системы управления базами данных [Pos08, MS08] и систем передач сообщений [The08, UoC08]. Эта книга в основном будет сфокусирована на ядре Linux, по предоставит много материала, подходящего и для прикладных приложений.

4. Даже несмотря н то, что большинство проектов параллельного программирования в 1980-х и в 1990-х были проприетарными, эти проекты дали жизнь сообществу разработчиков, кто понимает инженерную дисциплину, необходимую для разработки параллельного кода производственного качества. Одна из главных целей этой книги показать эту инжереную дисциплину.

5. К сожалению, с пятой проблемой, высокой ценой коммуникации по отнощению к обработке данных, все еще борятся. Хотя к этой проблеме было приковано много внимания с начала нового тысячилетия, согласно Стивену Хокингу, конечная скорость света и атомная природа материи, скорее всего ограничит прогресс в этой области [Gar 07, Moo03]. К счастью, с этой проблемой борятся с конца 1980-х годов, так что вышеупомянутая инженерная дисциплина разработала практичные и эффективные стратегии для ее обхождения. В добавок, проектировщики аппаратных обеспечения все более знакомы с этими проблемами, так что возможно будущее аппаратное обеспечение будет более дружелюбно к параллельному программному обеспечению, как было обсуждается в разделе 3.3.    
